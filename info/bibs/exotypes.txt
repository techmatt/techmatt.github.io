To be published in the proceedings of PLDI 2014